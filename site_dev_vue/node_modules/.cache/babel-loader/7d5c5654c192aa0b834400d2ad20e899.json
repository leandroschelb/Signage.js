{"remainingRequest":"/home/lschelb-note/site_sala_cafe/site_dev_vue/node_modules/babel-loader/lib/index.js!/home/lschelb-note/site_sala_cafe/site_dev_vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/lschelb-note/site_sala_cafe/site_dev_vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/lschelb-note/site_sala_cafe/site_dev_vue/src/components/Rss.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/lschelb-note/site_sala_cafe/site_dev_vue/src/components/Rss.vue","mtime":1558719010252},{"path":"/home/lschelb-note/site_sala_cafe/site_dev_vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lschelb-note/site_sala_cafe/site_dev_vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/lschelb-note/site_sala_cafe/site_dev_vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lschelb-note/site_sala_cafe/site_dev_vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport $ from 'jquery';\nexport default {\n  name: 'Rssfeed',\n  props: {\n    url: {\n      type: String,\n      required: true\n    },\n    num_noticias_simultaneas: {\n      type: Number,\n      required: false,\n      default: 1\n    },\n    tempo_por_noticia: {\n      type: Number,\n      required: false,\n      default: 8000\n    },\n    freezed: {\n      type: Number,\n      required: false\n    }\n  },\n  data: function data() {\n    return {\n      noticias_em_exibicao: [],\n      todas_noticias: [],\n      indice_prox_noticia: 0\n    };\n  },\n  created: function created() {\n    this.puxaNoticiasDoRss();\n  },\n  methods: {\n    puxaNoticiasDoRss: function puxaNoticiasDoRss() {\n      var _this = this;\n\n      $.ajax({\n        url: \"api/fetch?feed=\".concat(this.url),\n        dataType: 'text'\n      }).then(function (result) {\n        var items = $.parseXML(result).getElementsByTagName('item');\n\n        for (var i = 0; i < items.length; i++) {\n          _this.todas_noticias.push({\n            id: i,\n            titulo: items[i].getElementsByTagName('title')[0].childNodes[0].nodeValue,\n            descricao: items[i].getElementsByTagName('description')[0].childNodes.length === 0 ? '' : items[i].getElementsByTagName('description')[0].childNodes[0].nodeValue.replace(/&nbsp;/g, '')\n          });\n        }\n\n        _this.proxNoticia();\n      }).catch(function () {\n        setTimeout(_this.puxaNoticiasDoRss, 1000 * 60 * 0.5);\n      });\n    },\n    proxNoticia: function proxNoticia() {\n      this.noticias_em_exibicao = [];\n\n      for (var i = 0; i < this.num_noticias_simultaneas && this.indice_prox_noticia + i < this.todas_noticias.length; i++) {\n        this.noticias_em_exibicao.push(this.todas_noticias[this.indice_prox_noticia + i]);\n      }\n\n      this.indice_prox_noticia = this.indice_prox_noticia + this.num_noticias_simultaneas >= this.todas_noticias.length ? 0 : this.indice_prox_noticia + this.num_noticias_simultaneas;\n      setTimeout(this.proxNoticia, this.tempo_por_noticia);\n    }\n  }\n};",{"version":3,"sources":["Rss.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAoBA,OAAA,CAAA,MAAA,QAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,SADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,GAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA,KADA;AAKA,IAAA,wBAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA,KAFA;AAGA,MAAA,OAAA,EAAA;AAHA,KALA;AAUA,IAAA,iBAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA,KAFA;AAGA,MAAA,OAAA,EAAA;AAHA,KAVA;AAeA,IAAA,OAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA;AAfA,GAFA;AAsBA,EAAA,IAtBA,kBAsBA;AACA,WAAA;AACA,MAAA,oBAAA,EAAA,EADA;AAEA,MAAA,cAAA,EAAA,EAFA;AAGA,MAAA,mBAAA,EAAA;AAHA,KAAA;AAKA,GA5BA;AA6BA,EAAA,OAAA,EAAA,mBAAA;AACA,SAAA,iBAAA;AACA,GA/BA;AAgCA,EAAA,OAAA,EAAA;AACA,IAAA,iBAAA,EAAA,6BAAA;AAAA;;AACA,MAAA,CAAA,CAAA,IAAA,CAAA;AAAA,QAAA,GAAA,2BAAA,KAAA,GAAA,CAAA;AAAA,QAAA,QAAA,EAAA;AAAA,OAAA,EAAA,IAAA,CAAA,UAAA,MAAA,EAAA;AACA,YAAA,KAAA,GAAA,CAAA,CAAA,QAAA,CAAA,MAAA,EAAA,oBAAA,CAAA,MAAA,CAAA;;AACA,aAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,KAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EACA;AACA,UAAA,KAAA,CAAA,cAAA,CAAA,IAAA,CACA;AACA,YAAA,EAAA,EAAA,CADA;AAEA,YAAA,MAAA,EAAA,KAAA,CAAA,CAAA,CAAA,CAAA,oBAAA,CAAA,OAAA,EAAA,CAAA,EAAA,UAAA,CAAA,CAAA,EAAA,SAFA;AAGA,YAAA,SAAA,EAAA,KAAA,CAAA,CAAA,CAAA,CAAA,oBAAA,CAAA,aAAA,EAAA,CAAA,EAAA,UAAA,CAAA,MAAA,KAAA,CAAA,GACA,EADA,GACA,KAAA,CAAA,CAAA,CAAA,CAAA,oBAAA,CAAA,aAAA,EAAA,CAAA,EAAA,UAAA,CAAA,CAAA,EAAA,SAAA,CAAA,OAAA,CAAA,SAAA,EAAA,EAAA;AAJA,WADA;AAOA;;AACA,QAAA,KAAA,CAAA,WAAA;AACA,OAbA,EAcA,KAdA,CAcA,YAAA;AACA,QAAA,UAAA,CAAA,KAAA,CAAA,iBAAA,EAAA,OAAA,EAAA,GAAA,GAAA,CAAA;AACA,OAhBA;AAiBA,KAnBA;AAoBA,IAAA,WAAA,EAAA,uBAAA;AACA,WAAA,oBAAA,GAAA,EAAA;;AAEA,WAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,KAAA,wBAAA,IAAA,KAAA,mBAAA,GAAA,CAAA,GAAA,KAAA,cAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,aAAA,oBAAA,CAAA,IAAA,CAAA,KAAA,cAAA,CAAA,KAAA,mBAAA,GAAA,CAAA,CAAA;AACA;;AACA,WAAA,mBAAA,GAAA,KAAA,mBAAA,GAAA,KAAA,wBAAA,IAAA,KAAA,cAAA,CAAA,MAAA,GACA,CADA,GACA,KAAA,mBAAA,GAAA,KAAA,wBADA;AAGA,MAAA,UAAA,CAAA,KAAA,WAAA,EAAA,KAAA,iBAAA,CAAA;AACA;AA9BA;AAhCA,CAAA","sourcesContent":["/* \n    Autor: Leandro Schelb - leandro.schelb@gmail.com\n\n    Desc: Carrega as noticias em 'todas_noticias' e exibe elas em grupos de tamanho 'num_noticias_simultaneas'.\n\t\t\t\t\tOu seja exibe 'num_noticias_simultaneas' a partir de 'indice_prox_noticia'\n\n    TO-DO:\n      - Atualizar os dados periodicamente.\n*/\n\n<template>\n<div class=\"rssfeed\">\n\t<div class=\"noticia\" v-for=\"noticia in noticias_em_exibicao\" :key=\"noticia.id\">\n\t\t<h3 class = \"titulo\">{{noticia.titulo}}</h3>\n\t\t<p class = \"descricao\" v-html=\"noticia.descricao\"></p>\n\t</div>\n</div>\n</template>\n\n<script>\nimport $ from 'jquery'\n\nexport default {\n\t\tname: 'Rssfeed',\n\t\tprops: {\n\t\t\t\turl : {\n\t\t\t\t\ttype: String,\n\t\t\t\t\trequired: true\n\t\t\t\t},\n\t\t\t\tnum_noticias_simultaneas: {\n\t\t\t\t\ttype: Number,\n\t\t\t\t\trequired: false,\n\t\t\t\t\tdefault: 1\n\t\t\t\t},\n\t\t\t\ttempo_por_noticia: {\n\t\t\t\t\ttype: Number,\n\t\t\t\t\trequired: false,\n\t\t\t\t\tdefault: 8000\n\t\t\t\t},\n\t\t\t\tfreezed: {\n\t\t\t\t\ttype: Number,\n\t\t\t\t\trequired: false\n\t\t\t\t},\n\t\t},\n\tdata () {\n\t\treturn {\n\t\t\tnoticias_em_exibicao: [],\n\t\t\ttodas_noticias: [],\n\t\t\tindice_prox_noticia: 0,\n\t\t}\n\t},\n\tcreated: function(){\n\t\tthis.puxaNoticiasDoRss();\n\t},\n\tmethods: {\n\t\tpuxaNoticiasDoRss: function(){\n\t\t\t$.ajax({url: `api/fetch?feed=${this.url}`,dataType: 'text',}).then((result) => {\n\t\t\t\tlet items = $.parseXML(result).getElementsByTagName('item')\n\t\t\t\tfor(let i = 0; i < items.length; i++)\n\t\t\t\t{\n\t\t\t\t\tthis.todas_noticias.push(\n\t\t\t\t\t{\n\t\t\t\t\t\tid: i,\n\t\t\t\t\t\ttitulo: items[i].getElementsByTagName('title')[0].childNodes[0].nodeValue,\n\t\t\t\t\t\tdescricao: items[i].getElementsByTagName('description')[0].childNodes.length === 0 ?\n\t\t\t\t\t\t\t'' :  items[i].getElementsByTagName('description')[0].childNodes[0].nodeValue.replace(/&nbsp;/g,'')\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tthis.proxNoticia();\n\t\t\t})\n\t\t\t.catch( () => {\n\t\t\t\tsetTimeout(this.puxaNoticiasDoRss, 1000*60*0.5);\n\t\t\t})\n\t\t},\n\t\tproxNoticia: function () {\n\t\t\tthis.noticias_em_exibicao = [];\n\t\t\t\n\t\t\tfor(let i = 0; (i < this.num_noticias_simultaneas) && (this.indice_prox_noticia + i < this.todas_noticias.length); i++){\n\t\t\t\tthis.noticias_em_exibicao.push(this.todas_noticias[this.indice_prox_noticia+i])\n\t\t\t}\t\t\t\n\t\t\tthis.indice_prox_noticia = this.indice_prox_noticia + this.num_noticias_simultaneas >= this.todas_noticias.length ? \n\t\t\t\t0 : this.indice_prox_noticia + this.num_noticias_simultaneas;\n\t\t\t\n\t\t\tsetTimeout(this.proxNoticia, this.tempo_por_noticia);\n\t\t}\n\t}\n}\n</script>\n\n<style>\n\n.noticia {\n\tpadding: 0px 10px 0px 10px;\n}\n\n.noticia img{\n\tpadding-right: 40px;\n}\n</style>"],"sourceRoot":"src/components"}]}