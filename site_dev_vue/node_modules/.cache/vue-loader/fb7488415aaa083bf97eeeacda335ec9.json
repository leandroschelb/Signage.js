{"remainingRequest":"/home/lschelb-note/developer_front_end/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/lschelb-note/developer_front_end/src/components/Rss.vue?vue&type=style&index=0&id=57d56752&scoped=true&lang=css&","dependencies":[{"path":"/home/lschelb-note/developer_front_end/src/components/Rss.vue","mtime":1557419566804},{"path":"/home/lschelb-note/developer_front_end/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/home/lschelb-note/developer_front_end/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/lschelb-note/developer_front_end/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/lschelb-note/developer_front_end/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lschelb-note/developer_front_end/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.noticia {\n\tpadding: 0px 10px 0px 10px;\n}\n\n.noticia >>> img{\n\tpadding-right: 40px;\n}\n",{"version":3,"sources":["Rss.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgFA;AACA;AACA;;AAEA;AACA;AACA","file":"Rss.vue","sourceRoot":"src/components","sourcesContent":["<template>\n<div class=\"rssfeed\">\n\t<div class=\"noticia\" v-for=\"noticia in displayNoticias\" v-bind:key=\"noticia.id\">\n\t\t<h3 class = \"titulo\">{{noticia.titulo}}</h3>\n\t\t<p class = \"descricao\" v-html=\"noticia.descricao\"></p>\n\t</div>\n</div>\n</template>\n\n<script>\nimport $ from 'jquery'\n\nexport default {\n\t\tname: 'Rssfeed',\n\t\tprops: {\n\t\t\t\turl : {\n\t\t\t\t\ttype: String,\n\t\t\t\t\trequired: true\n\t\t\t\t\t},\n\t\t\t\t// delimita quantas noticias a partir de idAtual serão exibidas\n\t\t\t\tnsimulpar: {\n\t\t\t\t\trequired: false,\n\t\t\t\t\tdefault: 1\n\t\t\t\t},\n\t\t\t\trefresh: {\n\t\t\t\t\trequired: false,\n\t\t\t\t\tdefault: 8000\n\t\t\t\t},\n\t\t\t\tfreezed: {required: false},\n\t\t},\n\tdata () {\n\t\treturn {\n\t\t\tdisplayNoticias: [],\n\t\t\tbancoNoticias: [],\n\t\t\tidAtual: 0,                                                                                              // aponta para o indice da primeira noticia sendo exibida\n\t\t}\n\t},\n\tcreated: function(){\t\t\n\t\tthis.puxaNoticiasDoRss();\n\t},\n\tmethods: {\n\t\tpuxaNoticiasDoRss: function(){\n\n\t\t\t$.ajax({url: `api/fetch?feed=${this.url}`,dataType: 'text',}).then((result) => {\n\t\t\t\tlet items = $.parseXML(result).getElementsByTagName('item')                                                     // seleciona todos os itens (noticias)\n\n\t\t\t\tfor(let i = 0; i < items.length; i++) {                                                   // para cada um deles, gera um objeto com suas informação e adiciona ao banco\n\t\t\t\t\tlet aux = {\n\t\t\t\t\t\tid: i,\n\t\t\t\t\t\ttitulo: items[i].getElementsByTagName('title')[0].childNodes[0].nodeValue,\n\t\t\t\t\t\tdescricao: items[i].getElementsByTagName('description')[0].childNodes.length === 0 ?\n\t\t\t\t\t\t\t'' :  items[i].getElementsByTagName('description')[0].childNodes[0].nodeValue.replace(/&nbsp;/g,'')\n\t\t\t\t\t}\n\t\t\t\t\tthis.bancoNoticias.push(aux)\n\t\t\t\t}\n\t\t\t\tthis.proxNoticia();\n\t\t\t})\n\t\t\t.catch( (error) => {\n\t\t\t\tsetTimeout(this.puxaNoticiasDoRss, 1000*60*0.5);\n\t\t\t})\n\t\t},\n\t\tproxNoticia: function () {\n\t\t\tthis.displayNoticias = [];\n\t\t\t\n\t\t\tfor(let i = 0; i < this.nsimulpar; i++){\n\t\t\t\tif(this.idAtual + i >= this.bancoNoticias.length)\n\t\t\t\t\tbreak;\n\t\t\t\tthis.displayNoticias.push(this.bancoNoticias[this.idAtual+i])\n\t\t\t}\n\t\t\tthis.idAtual+=this.nsimulpar;\n\t\t\tif(this.idAtual >= this.bancoNoticias.length)\n\t\t\t\tthis.idAtual = 0;\n\t\t\tsetTimeout(this.proxNoticia, this.refresh);\n\t\t}\n\t}\n}\n</script>\n\n<style scoped>\n\n.noticia {\n\tpadding: 0px 10px 0px 10px;\n}\n\n.noticia >>> img{\n\tpadding-right: 40px;\n}\n</style>"]}]}